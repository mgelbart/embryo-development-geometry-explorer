# Introduction #
EDGE has two parts, the Importer and the Browser. This page discusses using the Importer. The Importer is used to import data sets into the EDGE file system and then process the images using the manual and automatic segmentation features in EDGE. You will need to use the Importer before you can use the Browser.

When you first run the importer, you will notice there are many parameters. A full description of these is available in the ImporterSettings Wiki page.

# Run the importer #
Open MATLAB, go to the EDGE install directory, and type `semiauto`.

# Import a data set #
EDGE works by reading in images from your hard drive or an external storage device. The file names of the images are important because EDGE attempts to automatically parse them for depth and time information. For example, a TIFF file called “embryo1\_z05\_t10.tif” would be automatically assigned a depth value of 5 and time value of 10. EDGE may be less flexible than more developed software like ImageJ, so if EDGE fails to parse your file names, try a naming convention like the example above. Note: If your images are stored in special “image stack” formats, you will need to first separate them into individual images using a software like ImageJ.

# Importing #
To begin, press the “Import data set” button. You will then be guided through the import process:

  1. First, select the location on your storage drive where the membrane channel images are stored. Select the enclosing folder, not the images themselves.
  1. You will then be asked to enter a name for your data set. This name will be the way you identify this data set in the future.
  1. The program then asks if the data set is “Live” or “Fixed”. If you have data from multiple time points, choose “Live”. Otherwise, choose “Fixed”.
  1. You will then be prompted with a box entitled “filename contains...”. This step applies when you have other files in the selected directory aside from the membrane image files (e.g., files from other imaging channels). For example, if the folder you indicated contains images of both membrane and myosin channels, you must indicate how the program should distinguish between the two. Perhaps all the membrane files have the phrase “memb” in the file name. In this case, you would type “memb” into the box and press "Ok". If the folder you indicated only contains membranes images, you can leave this field blank and press "Ok" to skip this step.
  1. You will then be asked to indicate which end of the data is the top of the embryo. For example, if your image file names indicate depths from z=0 to z=80, the program has no way of knowing which represents the top and which the bottom. This is important later for the 3D visualization of the cells.
  1. Next, you will be prompted for additional channels. Continuing with the example above, this is the chance to specify the location of your myosin data (which you have collected in addition to the required membrane data). Note that you must have the same number of images for every channel, and the numbering system of the image file names must be the same. If you would like to import additional channels, the process is simple and much like importing the membrane channel. You will be prompted for additional channels repeatedly until you indicate you are finished by pressing “Continue import”. If there are no channels to import aside from the membranes, you should select this option right away.
  1. Nest, you need to enter metadata about the embryo, such as the spatial resolution of the images. This information can be changed later if it was entered incorrectly.
  1. Finally, you will be prompted to decide whether you want to keep the original image files after EDGE copies them to its own directory. It is always recommended to keep the originals, especially if you are importing files from an external storage device. If you are exporting images from your hard drive and have a backup copy on another drive, then it may not be necessary to keep the originals. Of course, you can always delete them later if you decide not to delete them at this time.

## Optional: set space/time limits ##
When you select a folder, all the images in that folder are imported into EDGE. However, in some cases not all the images are useful, for example if the uppermost slices do not contain any of the embryo or if the late images are past the development stage of interest. In this case, you can adjust the beginning and end (for both space and time) using the fields in the “Base properties” panel. Note that the reference value must fall between the limits you specify.

# Set the reference image #
The "reference image" is an important principle in EDGE. Only cells that appear in the reference image will be tracked in other images. Also, EDGE bases its segmentation and tracking on the reference image, so it should not contain any segmentation errors. Therefore, it is important to pick a reference image carefully. At this time, browse through the imported images and select an image that contains all the cells of interest. Cells that appear on other images but not the reference image cannot be processed using the program. Try to look for an image that is not very noisy; this will save you time later.

# Process the reference image #
The next step involves processing the membrane images to detect the boundaries between cells. The user can adjust the settings in the “Image processing options” panel, but the default settings might work well for a trial run. To begin, press the “Apply this image” button at the reference image. This may take a few minutes.

When the processing is done, take a look at the image: hopefully, at least some of the membranes were detected. At this point, you may need to adjust the image processing parameters until the image looks better. See the ImporterSettings Wiki page for more information on the parameters, and the ImageProcessing page for more information on how the segmentation works.

# Process all images #
When you have found a good set of image processing parameters, press the “Apply all images” button. You will be prompted to select the data set you want to process; the default is the current data set that you are working with. This operation will perform the processing on all of the images in your data set, and may take minutes or hours depending on the size of your data and the parameters you chose. (If you already processed the reference image, you will be asked if you want to overwrite images that are already processed. You probably do not want to overwrite the already-processed reference image, especially if you already manually corrected errors in it. If you do not want to overwrite some images, you can also use "process some images" instead.) When this process is complete you will have a better idea of how the image processing performs on all of your images. If it performs particularly well on an image that is not the reference image you selected, you may want to change the reference image at this time.

You will notice that at images other than the reference images, some cells are shown in pink while others are yellow. The yellow cells are “untracked cells”, i.e. those that could not be tracked to a cell in the reference image. These cells are not included when measurements are calculated and are not viewable in the EDGE browser. Apart from unwanted “junk” at the border which occurs for certain types of images, cells marked in yellow usually indicate that the image processing failed and error correction is needed.

## Optional: manually correct errors ##
This step is probably the most time-consuming for the user, and therefore it is worth trying to optimize the image processing parameters as much as possible before starting the error-correction by hand. The error correction is done using the “Vectorized cell adjustments” panel on the right-hand side of the window. These adjustments can be made to any image, but it is recommended to first make them only to the reference image, and then see if automatic error-correction fixes the other images.

See the ErrorCorrection Wiki page for more information on this.

# Export to EDGE Browser #
The last step in using the EDGE importer is to “export” the embryo so that it can be looked at with the Browser. When the embryo has been cleaned up satisfactorily, press the “Export to Browser” button. First, select the data set(s) you want to export. The default is the current data set. Next, select the properties you wish to export. These properties will be calculated for every cell in the embryo and saved to a file on your hard drive. The browser will then load this file to display the measurements. By default, EDGE provides four measurements: Area, Perimeter, and Centroid Positions (x and y). To define additional properties, see the [Measurements](http://code.google.com/p/embryo-development-geometry-explorer/wiki/Measurements) Wiki page. When the exporting is complete, press “Switch to Browser” or close the Importer and open the Browser manually. See the [Browser](http://code.google.com/p/embryo-development-geometry-explorer/wiki/Browser) Wiki page for information on using the Browser. If you have not saved your changes already, you will be asked if you want to save your changes when exiting. All unsaved changes are discarded immediately.